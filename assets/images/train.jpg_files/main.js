var LTApp=function(){this.INITED=!1};LTApp.prototype={preload:function(e,t){this.sources=e;var n,r=0;if($("*").each(function(e,t){"SCRIPT"!==t.tagName&&"feMergeNode"!==t.tagName&&this.findImageInElement(t)}.bind(this)),0===this.sources.length)t.call();else if(document.images)for(var a=0;a<this.sources.length;a++)n=new Image,n.onload=function(){r++,r===this.sources.length&&t.call()}.bind(this),n.src=this.sources[a];else t.call()},determineUrl:function(e){var t,n="",r=e.currentStyle||window.getComputedStyle(e,null);return""!==r.backgroundImage&&"none"!==r.backgroundImage||""!==e.style.backgroundImage&&"none"!==e.style.backgroundImage?(t=r.backgroundImage||e.style.backgroundImage,t.indexOf("gradient(")===-1&&(n=t.split(","))):"undefined"!=typeof e.getAttribute("src")&&"img"===e.nodeName.toLowerCase()&&(n=e.getAttribute("src")),[].concat(n)},findImageInElement:function(e){var t=this.determineUrl(e),n=navigator.userAgent.match(/msie/i)||navigator.userAgent.match(/Opera/i)?"?rand="+Math.random():"";t.forEach(function(e){e=this.stripUrl(e),""!==e&&this.sources.push(e+n)}.bind(this))},stripUrl:function(e){return e=$.trim(e),e=e.replace(/url\(\"/g,""),e=e.replace(/url\(/g,""),e=e.replace(/\"\)/g,""),e=e.replace(/\)/g,"")}};
"use strict";function App_banner(){return void 0!==App_banner.instance?App_banner.instance:(App_banner.instance=this,LTApp.call(this),App_banner.instance)}function IDsToVars(){for(var e=document.getElementsByTagName("id"),n=0;n<e.length;n++){var t=e[n];t.id&&(window[t.id]=document.getElementById(t.id))}}App_banner.prototype=new LTApp,App_banner.fn=App_banner.prototype,App_banner.getInstance=function(){return void 0===App_banner.instance&&new App_banner,App_banner.instance},App_banner.fn.init=function(){this.INITED||(this.INITED=!0,this.preload([],this.display.bind(this))),IDsToVars()},App_banner.fn.display=function(){this.steps=$(".step"),this.goTo(1),$("body").removeClass("loading"),$("body").addClass("loaded")},App_banner.fn.goTo=function(e){this.steps.each(function(n,t){var a=$(t);a.data("order")==e&&($(".step-active").removeClass("step-active"),a.addClass("step-active"))}),this["step"+e]&&this["step"+e]()},App_banner.fn.goToAndWait=function(e,n){this.steps.each(function(t,a){var s,o=$(a);o.data("order")==e&&(s=$(".step-active"),o.addClass("step-active"),setTimeout(function(){$oldÃ§.removeClass("step-active")},n))}),this["step"+e]&&this["step"+e]()},App_banner.fn.step1=function(){var e=new TimelineMax,n=$("#cta");window.tl=e,$("#replay").on("click",function(n){n.preventDefault(),e.restart()});var t=1;$("#replay").on("mouseover",function(){var e=$("#replay");TweenLite.to(e,.5,{rotationZ:-360*t,onComplete:App_banner.fn.incrementSpin})}),App_banner.fn.incrementSpin=function(){setTimeout(function(){t++},200)},e.addLabel("intro").from(bg1,4,{scale:1.1,x:-20,y:-10,ease:Power0.easeNone},"intro+=0.5").from(text1,.5,{y:-90},"intro+=0.5").to(text1,.5,{y:90},"intro+=3.5").addLabel("second").to(bg2,.5,{opacity:1},"second-=0.5").from(bg2,4,{scale:1.1,x:-20,y:-10,ease:Power0.easeNone},"second-=0.5").from(text2,.5,{y:-90},"second").to(last,.5,{opacity:1},"second+=2.5").addLabel("last").from(text3,.5,{y:-90},"last+=0.2").staggerFrom([n,replay],.5,{scale:0,ease:Back.easeOut},.3),n.mouseover(function(){var e=new TimelineMax;e.to(n,.2,{scale:1.1}).to(n,.2,{scale:1})})};